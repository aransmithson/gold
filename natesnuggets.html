<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nate's Nuggets ðŸ’°</title>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden;
  background:radial-gradient(circle at 50% 20%,#3a1f00 0%,#120a00 70%);
  font-family:Trebuchet MS, sans-serif;
  color:white;
}

/* ===== PARALLAX RAIN ===== */

.rain-layer{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
}
.coin-rain{
  position:absolute;
  width:14px;
  height:14px;
  border-radius:50%;
  animation:fall linear infinite;
}
.gold-rain{background:radial-gradient(circle,#ffd700,#ff9900);}
.silver-rain{background:radial-gradient(circle,#f0f0f0,#999);}
@keyframes fall{
  from{transform:translateY(-100px) rotate(0deg);}
  to{transform:translateY(110vh) rotate(360deg);}
}

/* ===== TITLE ===== */

.title{
  position:fixed;
  top:8px;
  width:100%;
  text-align:center;
  font-size:clamp(22px,4vw,40px);
  font-weight:900;
  background:linear-gradient(90deg,#ffcc33,#fff2a8,#ff9900);
  background-size:200% auto;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:shimmer 4s linear infinite;
  z-index:10;
}
@keyframes shimmer{to{background-position:200% center;}}

/* ===== BUBBLES ===== */

.bubble{
  position:absolute;
  width:80px;
  height:80px;
  border-radius:50%;
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(6px);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  border:2px solid rgba(255,255,255,.2);
  box-shadow:0 0 20px rgba(255,204,51,.3);
  cursor:pointer;
}

.coin{
  width:28px;
  height:28px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
  font-weight:bold;
  animation:spin 4s linear infinite;
}
.gold-coin{background:radial-gradient(circle,#ffd700,#ff9900);color:#5c3b00;}
.silver-coin{background:radial-gradient(circle,#f5f5f5,#999);color:#333;}
.btc-coin{background:#f7931a;}
.eth-coin{background:#6c6cff;}

@keyframes spin{
  0%{transform:rotateY(0deg);}
  100%{transform:rotateY(360deg);}
}

.price{
  margin-top:4px;
  font-size:11px;
  font-weight:bold;
}

/* ===== BURST ===== */

@keyframes burst{
  0%{transform:scale(1);opacity:1;}
  100%{transform:scale(1.6);opacity:0;}
}

/* ===== EXPLOSION COINS ===== */

.explosion-coin{
  position:absolute;
  width:10px;
  height:10px;
  border-radius:50%;
  background:radial-gradient(circle,#ffd700,#ff9900);
  pointer-events:none;
}

/* ===== DEBUG ===== */

#debugBtn{
  position:fixed;
  right:10px;
  bottom:10px;
  z-index:20;
}
#debugPanel{
  position:fixed;
  bottom:40px;
  right:10px;
  width:280px;
  max-height:50vh;
  overflow:auto;
  background:#111;
  border:1px solid #444;
  padding:8px;
  font-size:11px;
  display:none;
  z-index:20;
}
.updated{
  position:fixed;
  bottom:10px;
  left:10px;
  font-size:11px;
  opacity:.6;
}
</style>
</head>
<body>

<div class="rain-layer" id="rainBack"></div>
<div class="rain-layer" id="rainFront"></div>

<div class="title">ðŸ’° Nate's Nuggets ðŸª™</div>

<div class="bubble" id="gold">
  <div class="coin gold-coin">Au</div>
  <div class="price" id="goldPrice">--</div>
</div>

<div class="bubble" id="silver">
  <div class="coin silver-coin">Ag</div>
  <div class="price" id="silverPrice">--</div>
</div>

<div class="bubble" id="btc">
  <div class="coin btc-coin">â‚¿</div>
  <div class="price" id="btcPrice">--</div>
</div>

<div class="bubble" id="eth">
  <div class="coin eth-coin">Îž</div>
  <div class="price" id="ethPrice">--</div>
</div>

<div class="updated" id="updatedTime"></div>
<button id="debugBtn">ðŸ›  Debug</button>
<div id="debugPanel"></div>

<script>

/* ===== POP SOUNDS ===== */

const popSounds=[
  "fifty_five_percent.mp3",
  "well_over_ten_billion_dollars.mp3",
  "fifteen_million_dollars.mp3",
  "im_really_rich.mp3"
];

function playPopSound(){
  const soundFile=popSounds[Math.floor(Math.random()*popSounds.length)];
  const audio=new Audio(soundFile);
  audio.volume=0.7;
  audio.play().catch(()=>{});
}

/* ===== COIN RAIN ===== */

function createRain(layer,count,speed,type){
  for(let i=0;i<count;i++){
    const c=document.createElement("div");
    c.className="coin-rain "+type;
    c.style.left=Math.random()*100+"vw";
    c.style.animationDuration=(Math.random()*speed+5)+"s";
    c.style.animationDelay=Math.random()*5+"s";
    layer.appendChild(c);
  }
}
createRain(rainBack,25,12,"silver-rain");
createRain(rainFront,20,8,"gold-rain");

/* ===== BUBBLE PHYSICS ===== */

const bubbles=[...document.querySelectorAll(".bubble")].map(el=>({
  el,
  vx:(Math.random()*2-1)*1.3,
  vy:(Math.random()*2-1)*1.3,
  size:80,
  alive:true
}));

function overlaps(b){
  return bubbles.some(o=>{
    if(o===b||!o.alive) return false;
    let dx=b.x-o.x;
    let dy=b.y-o.y;
    return Math.sqrt(dx*dx+dy*dy)<b.size;
  });
}

function spawnBubble(b){
  let tries=0;
  do{
    b.x=Math.random()*(window.innerWidth-b.size);
    b.y=Math.random()*(window.innerHeight-b.size);
    tries++;
  }while(overlaps(b)&&tries<100);
}

function initPositions(){
  bubbles.forEach(spawnBubble);
}
initPositions();

function animate(){
  bubbles.forEach(b=>{
    if(!b.alive) return;
    b.x+=b.vx;
    b.y+=b.vy;
    if(b.x<=0||b.x+b.size>=window.innerWidth) b.vx*=-1;
    if(b.y<=50||b.y+b.size>=window.innerHeight) b.vy*=-1;
    b.el.style.left=b.x+"px";
    b.el.style.top=b.y+"px";
  });
  requestAnimationFrame(animate);
}
animate();

/* ===== EXPLOSION ===== */

function explode(x,y){
  for(let i=0;i<15;i++){
    const c=document.createElement("div");
    c.className="explosion-coin";
    c.style.left=x+"px";
    c.style.top=y+"px";
    document.body.appendChild(c);

    const angle=Math.random()*Math.PI*2;
    const speed=Math.random()*4+2;
    const vx=Math.cos(angle)*speed;
    const vy=Math.sin(angle)*speed;
    let life=0;

    function animateCoin(){
      life++;
      c.style.left=(parseFloat(c.style.left)+vx)+"px";
      c.style.top=(parseFloat(c.style.top)+vy+life*0.2)+"px";
      c.style.opacity=1-life/40;
      if(life<40){
        requestAnimationFrame(animateCoin);
      }else{
        c.remove();
      }
    }
    animateCoin();
  }
}

/* ===== POP ===== */

bubbles.forEach(b=>{
  b.el.onclick=()=>{
    if(!b.alive) return;

    playPopSound();

    b.alive=false;
    const rect=b.el.getBoundingClientRect();
    explode(rect.left+40,rect.top+40);

    b.el.style.animation="burst .4s forwards";

    setTimeout(()=>{
      b.el.style.animation="";
      b.el.style.opacity=1;
      spawnBubble(b);
      b.alive=true;
    },600);
  };
});

/* ===== API ===== */

const GOLD_API="https://api.gold-api.com/price/";
const CRYPTO_API="https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd";

let debugData={};

function logDebug(key,data){
  debugData[key]=data;
  debugPanel.textContent=JSON.stringify(debugData,null,2);
}

async function fetchMetal(symbol,id){
  const r=await fetch(GOLD_API+symbol);
  const d=await r.json();
  logDebug(symbol,d);
  document.getElementById(id).textContent="$"+parseFloat(d.price).toLocaleString();
}

async function fetchCrypto(){
  const r=await fetch(CRYPTO_API);
  const d=await r.json();
  logDebug("crypto",d);
  btcPrice.textContent="$"+d.bitcoin.usd.toLocaleString();
  ethPrice.textContent="$"+d.ethereum.usd.toLocaleString();
}

function refresh(){
  fetchMetal("XAU","goldPrice");
  fetchMetal("XAG","silverPrice");
  fetchCrypto();
  updatedTime.textContent="â›ï¸ "+new Date().toLocaleTimeString();
}
refresh();
setInterval(refresh,60000);

debugBtn.onclick=()=>{
  debugPanel.style.display=
    debugPanel.style.display==="block"?"none":"block";
};

window.addEventListener("resize",initPositions);

</script>
</body>
</html>